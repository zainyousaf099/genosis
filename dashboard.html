<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Product Management Application</title>

  <!-- keep your existing css link (adjust if your project uses a different path) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/dashboard.css" />
  <!-- optional additional styles just for the organization page -->
  <style>
    /* --- Organization page styles (keep minimal â€” put in your CSS file later) --- */
    :root{
      --accent:#2563eb;
      --muted:#6b7280;
      --card-border:#e5e7eb;
      --bg:#fafbfd;
    }
    .page-container { display: flex; min-height:100vh; background:var(--bg); font-family: 'Inter', sans-serif; border-bottom: 1px solid #d1d5db; }
    /* Use your existing sidebar widths/classes; adapt names below to match your project if needed */
    .sidebar-content { 
      width: 280px; 
      background: #fff; 
      border-right: 1px solid #d1d5db; 
      padding: 18px; 
      display: flex; 
      flex-direction: column; 
      gap: 20px;
      position: relative;
    }
    
    .sidebar-footer-actions { 
      display: flex; 
      flex-direction: row; 
      gap: 12px; 
      align-items: center; 
      justify-content: flex-start; 
      margin-top: auto;
    }
    
    .sidebar-footer-actions .footer-icon { 
      width: 18px; 
      height: 18px; 
      opacity: 0.7; 
    }
    
    .sidebar-footer-actions .icon-wrapper {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      cursor: pointer;
    }
    
    .sidebar-footer-actions .icon-wrapper:hover {
      background: rgba(0, 0, 0, 0.05);
    }
    
    .sidebar-separator {
      height: 1px;
      background: #e5e7eb;
      margin: 12px 0;
    }
    
    .used-space-card {
      background: #e9f5ff; 
      border-radius: 10px; 
      padding: 14px 12px;
      display: flex; 
      flex-direction: column; 
      gap: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .used-space-title {
      font-weight: 700;
      color: #0f1724;
      margin-bottom: 8px;
      font-size: 14px;
    }
    
    .used-space-desc {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 10px;
    }
    
    .used-space-track {
      height: 8px;
      background: rgba(3,102,214,0.08);
      border-radius: 6px;
      margin-bottom: 10px;
      overflow: hidden;
    }
    
    .used-space-fill {
      height: 100%;
      width: 0%;
      background: #3b82f6;
      transition: width 400ms ease;
    }
    
    .upgrade-link {
      display: inline-block;
      color: #0b84db;
      font-weight: 700;
      text-decoration: underline;
      font-size: 13px;
    }

    /* Context Menu Styles */
    .context-menu {
      position: fixed;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      padding: 8px;
      z-index: 1000;
      display: none;
      min-width: 160px;
    }

    .context-menu.show {
      display: block;
    }

    .context-menu-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 6px;
      font-size: 14px;
      color: #111827;
    }

    .context-menu-item:hover {
      background: #f3f4f6;
    }

    .context-menu-icon {
      width: 16px;
      height: 16px;
      opacity: 0.8;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-overlay.show {
      display: flex;
    }

    .modal-dialog {
      background: white;
      border-radius: 12px;
      padding: 0;
      width: 600px;
      max-width: 90vw;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 24px 16px 24px;
      border-bottom: 1px solid #e5e7eb;
    }

    .modal-title {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: #111827;
    }

    .modal-close {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      background: #f3f4f6;
    }

    .modal-body {
      padding: 20px 24px;
    }

    .vault-name-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 14px;
      outline: none;
      box-sizing: border-box;
    }

    .vault-name-input:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .vault-name-input::placeholder {
      color: #9ca3af;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      padding: 16px 24px 20px 24px;
    }

    .btn-cancel {
      background: white;
      border: 1px solid #d1d5db;
      color: #374151;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
    }

    .btn-cancel:hover {
      background: #f9fafb;
    }

    .btn-create {
      background: #2563eb;
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
    }

    .btn-create:hover {
      background: #1d4ed8;
    }

    /* Permissions Modal Styles */
    .permissions-display-area {
      min-height: 120px;
      max-height: 200px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
    }

    .permissions-empty {
      color: #9ca3af;
      font-style: italic;
      margin: 0;
    }

    .permission-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px;
      border-bottom: 1px solid #e5e7eb;
    }

    .permission-item:last-child {
      border-bottom: none;
    }

    .permission-user-info {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .permission-badge {
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      background: #f3f4f6;
      color: #374151;
    }

    .permission-add-row {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .permission-input-group {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: #fff;
      flex: 1;
    }

    .permission-icon {
      width: 20px;
      height: 20px;
      opacity: 0.6;
    }

    .permission-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 14px;
      color: #111827;
    }

    .permission-input::placeholder {
      color: #9ca3af;
    }

    .permission-select-wrapper {
      position: relative;
      width: auto;
    }

    .permission-select {
      width: auto;
      min-width: 100px;
      padding: 12px 36px 12px 40px;
      border: 2px solid #111827;
      border-radius: 8px;
      font-size: 14px;
      color: #111827;
      background: #fff;
      cursor: pointer;
      outline: none;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .permission-select-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      opacity: 0.6;
      pointer-events: none;
      z-index: 1;
    }

    .permission-select {
      width: 100%;
      padding: 12px 16px 12px 40px;
      border: 2px solid #111827;
      border-radius: 8px;
      font-size: 14px;
      color: #111827;
      background: #fff;
      cursor: pointer;
      outline: none;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .permission-select-wrapper::after {
      content: '';
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 5px solid #111827;
      pointer-events: none;
    }

    .btn-add {
      background: #2563eb;
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
    }

    .btn-add:hover {
      background: #1d4ed8;
    }

    /* main content area */
    .page-content { flex:1; padding:22px 28px; position:relative; }

    /* Organization header */
    .organization-page { padding-bottom:40px; }
    .org-header { display:flex; justify-content:space-between; align-items:center; gap:16px; margin-bottom:8px; }
    .org-title h2{ margin:0; font-size:20px; font-weight:600; color:#0f172a; }
    .org-title p{ margin:0; color:var(--muted); font-size:13px; margin-top:4px; }

    .add-new-btn {
      display:inline-flex; align-items:center; gap:8px; background:var(--accent); color:#fff;
      border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;
    }
    .add-new-btn img{ width:16px; height:16px; filter:brightness(0) invert(1); }

    /* locker grid */
    .locker-grid { margin-top:18px; display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr)); gap:20px; }
    .locker-card {
      background:#fff; 
      border:none; 
      border-radius:12px; 
      padding:14px;
      box-shadow:0 2px 8px rgba(0, 0, 0, 0.1);
      display:flex; 
      flex-direction:column; 
      gap:8px;
    }

    .locker-card-header { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
    .locker-title { display:flex; align-items:center; gap:10px; }
    .locker-title h3{ margin:0; font-size:15px; font-weight:600; color:#0f172a; }
    .locker-icon-img{ 
      width: 32px; 
      height: 32px; 
      background: #e0f1fe; 
      border-radius: 8px; 
      padding: 6px; 
      display: flex; 
      align-items: center; 
      justify-content: center;
    }
    .locker-icon-img img {
      width: 20px;
      height: 20px;
    }

    .locker-actions { display:flex; gap:8px; }
    .icon-btn { width:18px; height:18px; opacity:0.7; cursor:pointer; }

    .locker-details { font-size:13px; color:#374151; display:flex; flex-direction:column; gap:6px; margin-top:6px; }
    .locker-details img{ width:14px; height:14px; vertical-align:middle; margin-right:8px; opacity:0.75; }

    .locker-storage { margin-top:8px; }
    .storage-label{ font-size:13px; color:#374151; margin-bottom:6px; }
    .org-progress { height:8px; background:#eef2f6; border-radius:6px; overflow:hidden; }
    .org-progress > .fill { height:100%; background:var(--accent); width:50%; border-radius:6px; }
    .storage-text { font-size:13px; color:var(--muted); margin-top:6px; }

    /* breadcrumb */
    .breadcrumb { color:var(--muted); font-size:13px; margin-top:6px; }

    /* small responsive tweaks */
    @media (max-width:900px){
      .file-navigation{ width:220px; }
      .locker-grid{ grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); }
    }
    @media (max-width:640px){
      .file-navigation{ display:none; } /* collapse sidebar on very small screens; you can toggle with JS in your app */
      .page-container{ padding:0; }
      .page-content{ padding:14px; }
    }
	.search-wrap {
    background: #f6f9fc;
    border: 1px solid #e6edf3;
    padding: 0px 10px;
    border-radius: 79px;
}
  </style>
</head>
<style>

	.small-left-sidebar{
		height: 100%;
		width: 30px;
		position: relative;
		background-color: #f3f6fb;
		border-right:1px solid #838485
;
		/* left: 10px; */

	}
	.file-navigation{
		margin-left: 0px;
	}
</style>
<body>
  <!-- Main Navbar Container (loaded via navbar.js) -->
  <div id="main-navbar-container"></div>

  <!-- Page container: sidebar content + main content -->
  <div class="page-container" style="margin-left: 40px;">

    <!-- ---------- SIDEBAR WITH PROPER STRUCTURE ---------- -->
    <aside class="sidebar-content">
      <!-- Search box -->
      <div class="search-wrap">
        <button class="search-icon" aria-hidden="true">
          <img src="assets/images/search.svg" alt="Search" />
        </button>
        <input class="search-input" type="search" placeholder="Search..." aria-label="Search" />
        <button class="chevron-btn chevron-left" aria-hidden="true">
          <img src="assets/images/chevron-left.svg" alt="Prev" />
        </button>
        <button class="chevron-btn chevron-right" aria-hidden="true">
          <img src="assets/images/chevron-right.svg" alt="Next" />
        </button>
      </div>

      <!-- Bottom actions row -->
      <div class="sidebar-footer-actions">
        <div class="icon-wrapper" data-tooltip="Delete">
          <img src="assets/images/icon-delete.svg" class="footer-icon" alt="Delete">
        </div>
        <div class="icon-wrapper" data-tooltip="Add Folder">
          <img src="assets/images/icon-add-folder.svg" class="footer-icon" alt="Add Folder">
        </div>
        <div class="icon-wrapper" data-tooltip="Refresh">
          <img src="assets/images/icon-flip-forward.svg" class="footer-icon" alt="Refresh">
        </div>
        <div class="icon-wrapper" data-tooltip="Logout">
          <img src="assets/images/icon.svg" class="footer-icon" alt="Logout">
        </div>
      </div>

      <!-- Horizontal separator line -->
      <div class="sidebar-separator"></div>

      <!-- Used space card -->
      <div class="used-space-card">
        <div class="used-space-title">Used Space</div>
        <div class="used-space-desc">You've used 0.00 GB of your 1 GB available space.</div>
        <div class="used-space-track">
          <div class="used-space-fill" style="width:0%"></div>
        </div>
        <a href="#" class="upgrade-link">Upgrade Plan</a>
      </div>
    </aside>

    <!-- ---------- MAIN CONTENT (organization page inserted here) ---------- -->
    <section class="page-content">
      <!-- Delete message placeholder / tabs or other content can remain here in your app -->
      <div id="delete-message" class="delete-message hidden"></div>
      <div id="tabs-bar" class="tabs-bar"></div>
      <div id="tabs-content" class="tabs-content">

        <!-- Organization page -->
        <div class="organization-page">

          <div class="org-header">
            <div class="org-title">
              <h2>Organization</h2>
              <p class="breadcrumb">Organization/Vaults/</p>
            </div>

            <button class="add-new-btn" title="Add new" onclick="openCreateVaultModal()">
              <img src="../assets/images/icon-add-file.svg" alt="Add">
              Add New
            </button>
          </div>

          <div class="locker-grid">
            <!-- CARD 1 -->
            <article class="locker-card" role="article" aria-label="jan 2024">
              <div class="locker-card-header">
                <div class="locker-title">
                  <div class="locker-icon-img">
                    <img src="../assets/images/lock.svg" alt="Locker icon">
                  </div>
                  <h3>jan 2024</h3>
                </div>
                <div class="locker-actions">
                  <a href="vault.html"><img src="../assets/images/expand.svg" alt="Expand" class="icon-btn" title="Expand"></a>
                  <img src="../assets/images/dots.svg" alt="More" class="icon-btn" title="More options" onclick="showContextMenu(event, this)">
                </div>
              </div>

              <div class="locker-details">
                <div><img src="../assets/images/calendar.svg" alt="created"> Date created: <strong>October 24, 2025</strong></div>
                <div><img src="../assets/images/calendar.svg" alt="updated"> Date updated: <strong>October 24, 2025</strong></div>
                <div><img src="../assets/images/users.svg" alt="users"> No. of users: <strong>0</strong></div>
              </div>

              <div class="locker-storage">
                <div class="storage-label">Storage</div>
                <div class="org-progress"><div class="fill" style="width:0%"></div></div>
                <div class="storage-text">Used: 0 GB / 1 GB</div>
              </div>
            </article>

          </div> <!-- .locker-grid -->

        </div> <!-- .organization-page -->

      </div> <!-- #tabs-content -->
    </section>

  </div> <!-- .page-container -->

  <!-- Context Menu -->
  <div id="contextMenu" class="context-menu">
    <div class="context-menu-item" onclick="duplicateVault()">
      <img src="assets/images/duplicate.svg" alt="Duplicate" class="context-menu-icon">
      <span>Duplicate</span>
    </div>
    <div class="context-menu-item" onclick="showPermissions()">
      <img src="assets/images/permission.svg" alt="Permissions" class="context-menu-icon">
      <span>Permissions</span>
    </div>
    <div class="context-menu-item" onclick="renameVault()">
      <img src="assets/images/pencil-line-01.svg" alt="Rename" class="context-menu-icon">
      <span>Rename</span>
    </div>
    <div class="context-menu-item" onclick="deleteVault()">
      <img src="assets/images/delete.svg" alt="Delete" class="context-menu-icon">
      <span>Delete</span>
    </div>
  </div>

  <!-- Permissions Modal -->
  <div id="permissionsModal" class="modal-overlay">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 class="modal-title">Permissions</h3>
        <button class="modal-close" onclick="closePermissionsModal()">
          <img src="assets/images/block-circle.svg" alt="Close" style="width: 16px; height: 16px;">
        </button>
      </div>
      <div class="modal-body">
        <!-- Current Permissions Display Area -->
        <div class="permissions-display-area">
          <p class="permissions-empty">No permissions set yet</p>
        </div>

        <!-- Add Permission Input Row -->
        <div class="permission-add-row">
          <div class="permission-input-group">
            <img src="assets/images/user-01.svg" alt="User" class="permission-icon">
            <input type="text" id="permissionEmailInput" class="permission-input" placeholder="Enter email or name" />
          </div>
          <div class="permission-select-wrapper">
            <img src="assets/images/eye.svg" alt="Viewer" class="permission-select-icon">
            <select id="permissionType" class="permission-select">
              <option value="viewer">Viewer</option>
              <option value="editor">Editor</option>
            </select>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closePermissionsModal()">Close</button>
        <button class="btn-add" onclick="addPermission()">Add</button>
      </div>
    </div>
  </div>

  <!-- Create Vault Modal -->
  <div id="createVaultModal" class="modal-overlay">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3 class="modal-title">Create Vault</h3>
        <button class="modal-close" onclick="closeCreateVaultModal()">
          <img src="assets/images/block-circle.svg" alt="Close" style="width: 16px; height: 16px;">
        </button>
      </div>
      <div class="modal-body">
        <input type="text" id="vaultNameInput" class="vault-name-input" placeholder="Enter vault name..." />
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeCreateVaultModal()">Cancel</button>
        <button class="btn-create" onclick="createVault()">Create</button>
      </div>
    </div>
  </div>

  <!-- JavaScript files -->
  <script type="module" src="assets/js/navbar.js"></script>
  <script type="module" src="assets/js/dashboard.js"></script>
  <script src="assets/js/vault_component.js"></script>
</body>
</html>
